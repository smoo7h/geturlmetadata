{"version":3,"sources":["../../src/lib/util.js"],"names":["toRes","res","status","err","thing","send","toObject","json"],"mappings":";;;;;QAUgBA,K,GAAAA,K;;AAThB;;;;;;;;;AASO,SAASA,KAAT,CAAeC,GAAf,EAAgC;AAAA,MAAZC,MAAY,uEAAL,GAAK;;AACtC,SAAO,UAACC,GAAD,EAAMC,KAAN,EAAgB;AACtB,QAAID,GAAJ,EAAS,OAAOF,IAAIC,MAAJ,CAAW,GAAX,EAAgBG,IAAhB,CAAqBF,GAArB,CAAP;;AAET,QAAIC,SAAS,OAAOA,MAAME,QAAb,KAAwB,UAArC,EAAiD;AAChDF,cAAQA,MAAME,QAAN,EAAR;AACA;AACDL,QAAIC,MAAJ,CAAWA,MAAX,EAAmBK,IAAnB,CAAwBH,KAAxB;AACA,GAPD;AAQA","file":"util.js","sourcesContent":["\r\n/**\tCreates a callback that proxies node callback style arguments to an Express Response object.\r\n *\t@param {express.Response} res\tExpress HTTP Response\r\n *\t@param {number} [status=200]\tStatus code to send on success\r\n *\r\n *\t@example\r\n *\t\tlist(req, res) {\r\n *\t\t\tcollection.find({}, toRes(res));\r\n *\t\t}\r\n */\r\nexport function toRes(res, status=200) {\r\n\treturn (err, thing) => {\r\n\t\tif (err) return res.status(500).send(err);\r\n\r\n\t\tif (thing && typeof thing.toObject==='function') {\r\n\t\t\tthing = thing.toObject();\r\n\t\t}\r\n\t\tres.status(status).json(thing);\r\n\t};\r\n}\r\n"]}